<div class="white-board">
  <h2 align="left">My Complaints</h2>
  <br>
  <br>
  <div class="form-row">
    <div class="col-12">
      <div class="table-responsive table-fixed">
        <table mat-table [dataSource]="dataSource" matSort matSortActive="referenceNo" matSortDirection="asc">
          <ng-container matColumnDef="referenceNo">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Reference No </th>
            <td mat-cell *matCellDef="let element"> {{element.referenceNo}} </td>
          </ng-container>

          <ng-container matColumnDef="studentNo">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Student No </th>
            <td mat-cell *matCellDef="let element"> {{element.studentNo}} </td>
          </ng-container>

          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
            <td mat-cell *matCellDef="let element"> {{element.name}} </td>
          </ng-container>

          <ng-container matColumnDef="surname">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Surname </th>
            <td mat-cell *matCellDef="let element"> {{element.surname}} </td>
          </ng-container>

          <ng-container matColumnDef="dateCreated">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Date Created </th>
            <td mat-cell *matCellDef="let element"> {{element.dateCreated}} </td>
          </ng-container>

          <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
            <td mat-cell *matCellDef="let element"> {{element.status}} </td>
          </ng-container>

          <ng-container matColumnDef="View">
            <th mat-header-cell *matHeaderCellDef> View </th>
            <td mat-cell *matCellDef="let element">
              <button class="button-btn" mat-icon-button color="primary" matTooltip="view a application"
              (click)="viewComplain(element.referenceNo)">
                <mat-icon  class="mat-18 btn-view" aria-label="view application">
                  reorder</mat-icon>
                  View
              </button>
            </td>
          </ng-container>
    
          <!-- Action Column -->
          <ng-container matColumnDef="Edit">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Edit</th>
            <td mat-cell *matCellDef="let element" [hidden]="!(element.status == 'Draft')">
              <button class="button-btn" mat-icon-button color="orange" matTooltip="edit a application"
               (click)="editComplain(element.referenceNo)">
                <mat-icon aria-label="edit application">edit</mat-icon>
                Edit
              </button>
            </td>
          </ng-container>

          <ng-container matColumnDef="Delete">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Delete</th>
            <td mat-cell *matCellDef="let element" [hidden]="!(element.status == 'Draft')">
              <button class="button-btn" mat-icon-button color="warn" matTooltip="delete a application"
               (click)="deleteComlain(element.referenceNo)">
                <mat-icon aria-label="delete application">
                  delete_forever</mat-icon>
                  Delete
              </button>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
      </div>
      <mat-paginator #paginator2="matPaginator" [ngStyle]="{display: isLargeScreen ? 'block' : 'none'}"
        [pageSize]="pageSize" [pageSizeOptions]="[1, 5, 10]" showFirstLastButtons class="mt-2"></mat-paginator>
    </div>
  </div>
</div>